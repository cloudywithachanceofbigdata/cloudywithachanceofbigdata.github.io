"use strict";(self.webpackChunkfull_stack_chronicles=self.webpackChunkfull_stack_chronicles||[]).push([[63294],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>u});var a=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},d=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},g=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,d=r(e,["components","mdxType","originalType","parentName"]),g=c(n),u=o,p=g["".concat(l,".").concat(u)]||g[u]||m[u]||i;return n?a.createElement(p,s(s({ref:t},d),{},{components:n})):a.createElement(p,s({ref:t},d))}));function u(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,s=new Array(i);s[0]=g;var r={};for(var l in t)hasOwnProperty.call(t,l)&&(r[l]=t[l]);r.originalType=e,r.mdxType="string"==typeof e?e:o,s[1]=r;for(var c=2;c<i;c++)s[c]=n[c];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}g.displayName="MDXCreateElement"},42971:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>m,frontMatter:()=>i,metadata:()=>r,toc:()=>c});var a=n(83117),o=(n(67294),n(3905));const i={slug:"aws-iam-vs-google-iam",title:"AWS IAM vs Google IAM",authors:["jeffreyaven"],draft:!1,image:"/img/blog/aws-iam-vs-google-iam.png",tags:["aws","google","gcp","iam","aws iam","google iam","identity and access management"],keywords:["aws","google","gcp","iam","aws iam","google iam","identity and access management"],description:"A brief comparison of Identity and Access Management (IAM) in the Google Cloud Platform and AWS."},s=void 0,r={permalink:"/aws-iam-vs-google-iam",editUrl:"https://github.com/stackql/fullstackchronicles.io/edit/main/src/blog/2022-11-26-aws-iam-vs-google-iam/index.md",source:"@site/blog/2022-11-26-aws-iam-vs-google-iam/index.md",title:"AWS IAM vs Google IAM",description:"A brief comparison of Identity and Access Management (IAM) in the Google Cloud Platform and AWS.",date:"2022-11-26T00:00:00.000Z",formattedDate:"November 26, 2022",tags:[{label:"aws",permalink:"/tags/aws"},{label:"google",permalink:"/tags/google"},{label:"gcp",permalink:"/tags/gcp"},{label:"iam",permalink:"/tags/iam"},{label:"aws iam",permalink:"/tags/aws-iam"},{label:"google iam",permalink:"/tags/google-iam"},{label:"identity and access management",permalink:"/tags/identity-and-access-management"}],readingTime:5.615,hasTruncateMarker:!1,authors:[{name:"Jeffrey Aven",title:"Technologist and Cloud Consultant",url:"https://www.linkedin.com/in/jeffreyaven/",imageURL:"https://s.gravatar.com/avatar/f96573d092470c74be233e1dded5376f?s=80",key:"jeffreyaven"}],frontMatter:{slug:"aws-iam-vs-google-iam",title:"AWS IAM vs Google IAM",authors:["jeffreyaven"],draft:!1,image:"/img/blog/aws-iam-vs-google-iam.png",tags:["aws","google","gcp","iam","aws iam","google iam","identity and access management"],keywords:["aws","google","gcp","iam","aws iam","google iam","identity and access management"],description:"A brief comparison of Identity and Access Management (IAM) in the Google Cloud Platform and AWS."},prevItem:{title:"Apache Beam in Five Minutes",permalink:"/apache-beam-in-five-minutes"},nextItem:{title:"Create and use Custom Magic Commands in Jupyter",permalink:"/create-and-use-custom-magic-commands-in-jupyter"}},l={authorsImageUrls:[void 0]},c=[{value:"Identity Management",id:"identity-management",level:2},{value:"Overview of IAM entities in AWS and Google",id:"overview-of-iam-entities-in-aws-and-google",level:2},{value:"Roles and Policies in AWS",id:"roles-and-policies-in-aws",level:2},{value:"Roles and Policies in Google",id:"roles-and-policies-in-google",level:2},{value:"Basic Roles (also referred to as Legacy or Primitive Roles)",id:"basic-roles-also-referred-to-as-legacy-or-primitive-roles",level:3},{value:"Predefined Roles",id:"predefined-roles",level:3},{value:"Custom Roles",id:"custom-roles",level:3},{value:"Google IAM Bindings",id:"google-iam-bindings",level:2},{value:"Policies in Google",id:"policies-in-google",level:2},{value:"Service Accounts in Google",id:"service-accounts-in-google",level:2},{value:"Inheritance",id:"inheritance",level:2},{value:"Summary",id:"summary",level:2}],d={toc:c};function m(e){let{components:t,...i}=e;return(0,o.kt)("wrapper",(0,a.Z)({},d,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"AWS and Google (and Microsoft Azure) have services called IAM, which stands for ",(0,o.kt)("strong",{parentName:"p"},"Identity and Access Management"),". The IAM service serves roughly the same purpose in each provider: to authorize principals (users, groups, or service accounts) to access and use services and resources on the respective platform. There are subtle yet significant differences and distinctions across the major cloud providers.  "),(0,o.kt)("p",null,"This article will look at the differences between IAM in AWS and IAM in Google.  "),(0,o.kt)("h2",{id:"identity-management"},"Identity Management"),(0,o.kt)("p",null,"Firstly, Google's IAM is a slight misnomer regarding the I as it does not manage identities (with the single exception of service accounts). Google identities are sourced from Google accounts created and managed outside the Google Cloud Platform. Google identities (users and groups) are Google accounts which could be accounts in a Google Workspace domain, a Google Cloud Identity domain, or Gmail accounts. Still, these accounts are ",(0,o.kt)("em",{parentName:"p"},"NOT")," created or managed using the Google IAM service.  "),(0,o.kt)("p",null,"Conversely, AWS IAM creates and manages identities for use in the AWS platform (",(0,o.kt)("strong",{parentName:"p"},"IAM Users"),"), which can be used to access AWS resources using the AWS console or programmatically using API keys.  "),(0,o.kt)("h2",{id:"overview-of-iam-entities-in-aws-and-google"},"Overview of IAM entities in AWS and Google"),(0,o.kt)("p",null,"It can be confusing for people coming from AWS to Google or vice-versa. Some of the same terms exist in both providers but mean different things. The table below summarises the difference in the meaning of terms in both providers. We will unpack this in more detail in the sections that follow.  "),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"AWS"),(0,o.kt)("th",{parentName:"tr",align:null},"Google",(0,o.kt)("sup",null,"*")))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Role"),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("a",{parentName:"td",href:"#service-accounts-in-google"},"Service Account"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Managed Policy"),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("a",{parentName:"td",href:"#predefined-roles"},"Predefined Role"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Customer Managed Policy"),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("a",{parentName:"td",href:"#custom-roles"},"Custom Role"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Policy Attachment"),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("a",{parentName:"td",href:"#google-iam-bindings"},"IAM Binding"))))),(0,o.kt)("sup",null,"*")," nearest equivalent",(0,o.kt)("h2",{id:"roles-and-policies-in-aws"},"Roles and Policies in AWS"),(0,o.kt)("p",null,"An ",(0,o.kt)("strong",{parentName:"p"},"AWS IAM Role")," is an identity that can be assumed by trusted entities using short-lived credentials (issued by the AWS Security Token Service or STS API). A trusted entity could be an IAM User, Group, or a service (such as Lambda or EC2).  "),(0,o.kt)("p",null,"Permissions are assigned to IAM Roles (and IAM Users and Groups) through the attachment of ",(0,o.kt)("strong",{parentName:"p"},"IAM Policies"),".  "),(0,o.kt)("p",null,"AWS Policies are collections of permissions in different services which can be used to ",(0,o.kt)("em",{parentName:"p"},"Allow")," or ",(0,o.kt)("em",{parentName:"p"},"Deny")," access (",(0,o.kt)("strong",{parentName:"p"},"Effect"),"); these can be scoped to a resource or have conditions attached. The following is an example of an AWS Policy:  "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "Version": "2012-10-17",\n    "Statement": [\n        {\n            "Effect": "Allow",\n            "Action": "ec2:Describe*",\n            "Resource": "*"\n        },\n        {\n            "Effect": "Allow",\n            "Action": "autoscaling:Describe*",\n            "Resource": "*"\n        }\n    ]\n}\n')),(0,o.kt)("p",null,"Policies in AWS can be ",(0,o.kt)("strong",{parentName:"p"},"Managed Policies")," (created and managed by AWS) or ",(0,o.kt)("strong",{parentName:"p"},"Customer Managed Policies")," - where the customer defines and manages these policies.  "),(0,o.kt)("p",null,"An IAM Role that is used by a service such as Lambda or EC2 will have a ",(0,o.kt)("strong",{parentName:"p"},"Trust Policy")," attached, which will look something like this:  "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "Version": "2012-10-17",\n    "Statement": [\n        {\n            "Effect": "Allow",\n            "Principal": {\n                "Service": "lambda.amazonaws.com"\n            },\n            "Action": "sts:AssumeRole"\n        }\n    ]\n}\n')),(0,o.kt)("h2",{id:"roles-and-policies-in-google"},"Roles and Policies in Google"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Roles")," in Google IAM are ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("em",{parentName:"strong"},"NOT identities"))," ; they are collections of permissions (similar to Policies in AWS). Roles can be of the following types:  "),(0,o.kt)("h3",{id:"basic-roles-also-referred-to-as-legacy-or-primitive-roles"},"Basic Roles (also referred to as Legacy or Primitive Roles)"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Basic Roles")," are coarse-grained permissions set at a Project level across all services, such as ",(0,o.kt)("em",{parentName:"p"},"Owner"),", ",(0,o.kt)("em",{parentName:"p"},"Editor"),", and ",(0,o.kt)("em",{parentName:"p"},"Viewer"),". Support for Basic Roles is maintained by Google, however, Google does not recommend using Basic Roles after a Project is created.  "),(0,o.kt)("h3",{id:"predefined-roles"},"Predefined Roles"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Predefined Roles")," are pre-curated sets of permissions that align with a role that an actor (human or service account) would play, such as ",(0,o.kt)("em",{parentName:"p"},"BigQuery Admin"),". Predefined roles are considered best practice in Google as the permissions for these roles are maintained by Google. Predefined Roles in Google would be the nearest equivalent to Managed Policies in AWS.  "),(0,o.kt)("h3",{id:"custom-roles"},"Custom Roles"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Custom Roles")," are user-specified and managed sets of permissions. These roles are scoped within your Project in Google and are your responsibility to maintain. Custom Roles are typically used when the permissions granted through a Predefined Role are too broad. Custom Roles would be the nearest equivalent of Customer Managed Policies in AWS.  "),(0,o.kt)("h2",{id:"google-iam-bindings"},"Google IAM Bindings"),(0,o.kt)("p",null,"Roles (collections of permissions) are attached to Principals (Identities such as users (Google accounts), groups and service accounts through ",(0,o.kt)("strong",{parentName:"p"},"IAM bindings"),".  The example below shows a binding between a user principal (a Google Workspace account) and a predefined role (",(0,o.kt)("em",{parentName:"p"},"BigQuery Admin"),") within a GCP project:    "),(0,o.kt)("p",null,(0,o.kt)("a",{target:"_blank",href:n(57851).Z},(0,o.kt)("img",{alt:"Google IAM Binding",src:n(70377).Z,width:"808",height:"810"}))),(0,o.kt)("h2",{id:"policies-in-google"},"Policies in Google"),(0,o.kt)("p",null,"A ",(0,o.kt)("strong",{parentName:"p"},"Policy")," in Google is a collection of IAM Bindings between ",(0,o.kt)("em",{parentName:"p"},"members")," (principals) and ",(0,o.kt)("em",{parentName:"p"},"roles"),". An example policy would be:  "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "bindings": [\n    {\n      "members": [\n        "user:javen@avensolutions.com"\n      ],\n      "role": "bigquery.admin"\n    },\n    ... another binding ...\n  ]\n}\n')),(0,o.kt)("h2",{id:"service-accounts-in-google"},"Service Accounts in Google"),(0,o.kt)("p",null,"A ",(0,o.kt)("strong",{parentName:"p"},"Service Account")," in GCP is a password-less identity created in a GCP Project that can be used to access GCP resources (usually by a process or service). Service accounts are identified by an email address, but these are NOT Google accounts (like the accounts used for users or groups). Service accounts can be associated with services such as Compute Engine, Cloud Functions, or Cloud Run (in much the same way as AWS Roles can be assigned to services such as Lambda functions or EC2 instances). Google Service accounts can use keys created in the IAM service, which are exchanged for short-lived credentials, or service accounts can use get tokens directly, which include OAuth 2.0 access tokens and OpenID Connect ID tokens. Service accounts in Google are the nearest equivalent to AWS IAM Roles.  "),(0,o.kt)("h2",{id:"inheritance"},"Inheritance"),(0,o.kt)("p",null,"AWS (save AWS Organizations) is a flat structure with no inherent hierarchy and is oriented around regions that are seperate API endpoints (almost providers unto themselves); IAM, however, is a global service in AWS.  "),(0,o.kt)("p",null,"In contrast, GCP is hierarchical and globally scoped for all services, including IAM. Resources (such as Google Compute Engine Instances or Big Query Datasets) are created in Projects (similar to Resource Groups in Azure). Projects are nested under a resource hierarchy, starting at the root (the organization or org). Organizations can contain folders, which can be nested, and these folders can contain Projects.  "),(0,o.kt)("p",null,"IAM Bindings (and the permissions they enable) are inherited from ancestor nodes in the GCP hierarchy. A Principal's net effective permissions are the union of the permissions assigned through IAM Bindings in the Project and the permissions set through IAM Bindings in all ancestor nodes (including Folders and the Org itself).  "),(0,o.kt)("h2",{id:"summary"},"Summary"),(0,o.kt)("p",null,"IAM governs access and entitlements to services and resources in cloud providers, although the design, implementation, and terminology are quite different as you get into the details. This is not to say one approach is better than the other, but as a multi-cloud warrior, you should understand the differences."))}m.isMDXComponent=!0},57851:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/files/iam_binding-7379bc3bbbe89149996cb48b6cba9d99.png"},70377:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/iam_binding-7379bc3bbbe89149996cb48b6cba9d99.png"}}]);