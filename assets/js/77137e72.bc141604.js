"use strict";(self.webpackChunkfull_stack_chronicles=self.webpackChunkfull_stack_chronicles||[]).push([[28078],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>m});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var u=n.createContext({}),l=function(e){var t=n.useContext(u),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},c=function(e){var t=l(e.components);return n.createElement(u.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,u=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),p=l(a),m=r,g=p["".concat(u,".").concat(m)]||p[m]||d[m]||o;return a?n.createElement(g,s(s({ref:t},c),{},{components:a})):n.createElement(g,s({ref:t},c))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,s=new Array(o);s[0]=p;var i={};for(var u in t)hasOwnProperty.call(t,u)&&(i[u]=t[u]);i.originalType=e,i.mdxType="string"==typeof e?e:r,s[1]=i;for(var l=2;l<o;l++)s[l]=a[l];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}p.displayName="MDXCreateElement"},30985:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>u,contentTitle:()=>s,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>l});var n=a(83117),r=(a(67294),a(3905));const o={slug:"json-ld-structured-data-for-docusaurus",title:"Yoast (like) JSON-LD Structured Data for Docusaurus",authors:["jeffreyaven"],draft:!1,image:"/img/blog/json-ld-structured-data-for-docusaurus.png",tags:["structured data","docusaurus","seo","json-ld","yoast"],keywords:["structured data","docusaurus","seo","json-ld","yoast"],description:"This article demonstrates the use of the docusaurus-plugin-structured-data plugin to add JSON-LD structured data to sites built with docusaurus for improved on-page SEO and rich results."},s=void 0,i={permalink:"/json-ld-structured-data-for-docusaurus",editUrl:"https://github.com/stackql/fullstackchronicles.io/tree/main/src/blog/blog/2023-01-25-json-ld-structured-data-for-docusaurus/index.md",source:"@site/blog/2023-01-25-json-ld-structured-data-for-docusaurus/index.md",title:"Yoast (like) JSON-LD Structured Data for Docusaurus",description:"This article demonstrates the use of the docusaurus-plugin-structured-data plugin to add JSON-LD structured data to sites built with docusaurus for improved on-page SEO and rich results.",date:"2023-01-25T00:00:00.000Z",formattedDate:"January 25, 2023",tags:[{label:"structured data",permalink:"/tags/structured-data"},{label:"docusaurus",permalink:"/tags/docusaurus"},{label:"seo",permalink:"/tags/seo"},{label:"json-ld",permalink:"/tags/json-ld"},{label:"yoast",permalink:"/tags/yoast"}],readingTime:4.955,hasTruncateMarker:!1,authors:[{name:"Jeffrey Aven",title:"Technologist and Cloud Consultant",url:"https://www.linkedin.com/in/jeffreyaven/",imageURL:"https://s.gravatar.com/avatar/f96573d092470c74be233e1dded5376f?s=80",key:"jeffreyaven"}],frontMatter:{slug:"json-ld-structured-data-for-docusaurus",title:"Yoast (like) JSON-LD Structured Data for Docusaurus",authors:["jeffreyaven"],draft:!1,image:"/img/blog/json-ld-structured-data-for-docusaurus.png",tags:["structured data","docusaurus","seo","json-ld","yoast"],keywords:["structured data","docusaurus","seo","json-ld","yoast"],description:"This article demonstrates the use of the docusaurus-plugin-structured-data plugin to add JSON-LD structured data to sites built with docusaurus for improved on-page SEO and rich results."},nextItem:{title:"Introducing GitVer - an alternative versioning scheme",permalink:"/gitver-an-alternative-versioning-scheme-to-semver-or-calver"}},u={authorsImageUrls:[void 0]},l=[{value:"How it works",id:"how-it-works",level:2},{value:"Breadcrumbs",id:"breadcrumbs",level:3},{value:"Blog Posts",id:"blog-posts",level:3},{value:"Installation",id:"installation",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Resultant Structured Data Example",id:"resultant-structured-data-example",level:2},{value:"Testing",id:"testing",level:2}],c={toc:l};function d(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://developer.yoast.com/"},"Yoast")," is a well-known SEO plugin for WordPress which automagically generates structured data for every page (amongst other things). This helps render rich results for search as well as improve general on-site SEO.  "),(0,r.kt)("p",null,"We use ",(0,r.kt)("a",{parentName:"p",href:"https://docusaurus.io/"},"Docusaurus"),", a React-based Static Site Generator from Facebook, for all of our docs and blog properties. Docusaurus does have some native structured data capabilities through ",(0,r.kt)("a",{parentName:"p",href:"https://html.spec.whatwg.org/multipage/microdata.html#microdata"},"Microdata"),". We were after:  "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Structured data implemented using ",(0,r.kt)("a",{parentName:"li",href:"https://json-ld.org/"},"JSON-LD")," - which is the recommended approach by Google; and"),(0,r.kt)("li",{parentName:"ul"},"Support multi-level structured data (like Yoast does), including ",(0,r.kt)("inlineCode",{parentName:"li"},"Organization"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"WebSite"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"WebPage"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"Article"),", and ",(0,r.kt)("inlineCode",{parentName:"li"},"Breadcrumb")," level data")),(0,r.kt)("p",null,"The solution was to create a Docusaurus plugin, ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/stackql/docusaurus-plugin-structured-data"},(0,r.kt)("strong",{parentName:"a"},"docusaurus-plugin-structured-data")),".  "),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Google allows you to combine structured data in Microdata format with data in JSON-LD format. You can see the union of the two markup approaches using the ",(0,r.kt)("a",{parentName:"p",href:"https://search.google.com/test/rich-results"},"Rich Results Test"),".")),(0,r.kt)("h2",{id:"how-it-works"},"How it works"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Organization")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Website")," level structured data are defined in the plugin configurations (see ",(0,r.kt)("a",{parentName:"p",href:"#configuration"},"Configuration"),"). ",(0,r.kt)("inlineCode",{parentName:"p"},"WebPage"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Article")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Breadcrumb")," level data are derived for each page from metadata sourced from the ",(0,r.kt)("a",{parentName:"p",href:"https://docusaurus.io/docs/api/plugin-methods/lifecycle-apis#postBuild"},(0,r.kt)("inlineCode",{parentName:"a"},"postBuild")," lifecycle api")," and then injected into the ",(0,r.kt)("inlineCode",{parentName:"p"},"<head>")," of each page using JSON-LD format as follows:  "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<head>\n...\n<script type="application/ld+json">\n{"@context":"https://schema.org","@graph":[...]}\n<\/script>\n...\n</head>\n')),(0,r.kt)("h3",{id:"breadcrumbs"},"Breadcrumbs"),(0,r.kt)("p",null,"Docusaurus allows you to create hierarchical document structures using categories and folders defined at build time; although this is useful for organization and context, to search engines, it can appear too complex (with leaf-level documents seemingly multiple clicks from the home page). In actuality, this is not the case, as the sidebar in Docusuarus makes any page one click away from the home page.  "),(0,r.kt)("p",null,"As a solution (to keep the hierarchy), the plugin takes each level in the route, maps it to a friendly term or token (using the ",(0,r.kt)("inlineCode",{parentName:"p"},"breadCrumbLabelMap")," configuration property), and creates a concatenated string, so for a route such as:  "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"/docs/language-spec/functions/aggregate/group_concat\n")),(0,r.kt)("p",null,"The resultant ",(0,r.kt)("inlineCode",{parentName:"p"},"Breadcrumb")," structured data looks like this...  "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'    {\n      "@type": "BreadcrumbList",\n      "@id": "https://stackql.io/docs/language-spec/functions/aggregate/group_concat/#breadcrumb",\n      "itemListElement": [\n        {\n          "@type": "ListItem",\n          "position": 1,\n          "item": "https://stackql.io",\n          "name": "Home"\n        },\n        {\n          "@type": "ListItem",\n          "position": 2,\n          "item": "https://stackql.io/docs",\n          "name": "Documentation"\n        },\n        {\n          "@type": "ListItem",\n          "position": 3,\n          "name": "Language Specification - Functions - Aggregate - GROUP_CONCAT"\n        }\n      ]\n    },\n')),(0,r.kt)("h3",{id:"blog-posts"},"Blog Posts"),(0,r.kt)("p",null,"The ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/stackql/docusaurus-plugin-structured-data"},(0,r.kt)("strong",{parentName:"a"},"docusaurus-plugin-structured-data"))," plugin detects blog posts and injects ",(0,r.kt)("a",{parentName:"p",href:"https://schema.org/Article"},"Article")," structured data accordingly, including the following properties:  "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"author")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"headline")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"datePublished")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"dateModified")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"wordCount")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"keywords")),(0,r.kt)("li",{parentName:"ul"},"and more...")),(0,r.kt)("p",null,"An example is shown here:  "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'    {\n      "@type": "Article",\n      "@id": "https://stackql.io/blog/sumologic-provider-for-stackql-now-available/#article",\n      "isPartOf": {\n        "@type": "WebPage",\n        "@id": "https://stackql.io/blog/sumologic-provider-for-stackql-now-available/#webpage"\n      },\n      "author": {\n        "name": "Jeffrey Aven",\n        "@id": "https://stackql.io/#/schema/person/1"\n      },\n      "headline": "Sumologic Provider for StackQL Now Available",\n      "datePublished": "2023-01-03T00:00:00.000Z",\n      "dateModified": "2023-01-03T00:00:00.000Z",\n      "mainEntityOfPage": {\n        "@id": "https://stackql.io/blog/sumologic-provider-for-stackql-now-available/#webpage"\n      },\n      "wordCount": 201,\n      "publisher": {\n        "@id": "https://stackql.io/#organization"\n      },\n      "image": {\n        "@id": "https://stackql.io/blog/sumologic-provider-for-stackql-now-available/#primaryimage"\n      },\n      "thumbnailUrl": "https://stackql.io/img/blog/stackql-sumologic-provider-featured-image.png",\n      "keywords": ["stackql", "sumologic", "multicloud", "monitoring", "logging"],\n      "articleSection": ["Blog"],\n      "inLanguage": "en-US"\n    }\n')),(0,r.kt)("h2",{id:"installation"},"Installation"),(0,r.kt)("p",null,"The ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/stackql/docusaurus-plugin-structured-data"},(0,r.kt)("strong",{parentName:"a"},"docusaurus-plugin-structured-data"))," is available via NPMJS at ",(0,r.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@stackql/docusaurus-plugin-structured-data"},(0,r.kt)("strong",{parentName:"a"},"@stackql/docusaurus-plugin-structured-data")),".  "),(0,r.kt)("p",null,"To install via NPM use:  "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"npm i @stackql/docusaurus-plugin-structured-data\n")),(0,r.kt)("p",null,"To install using Yarn use:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"yarn add @stackql/docusaurus-plugin-structured-data\n")),(0,r.kt)("h2",{id:"configuration"},"Configuration"),(0,r.kt)("p",null,"Add the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/stackql/docusaurus-plugin-structured-data"},(0,r.kt)("strong",{parentName:"a"},"docusaurus-plugin-structured-data"))," plugin to ",(0,r.kt)("inlineCode",{parentName:"p"},"plugins")," section in ",(0,r.kt)("inlineCode",{parentName:"p"},"docusaurus.config.js"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"{\n  plugins: [\n    '@stackql/docusaurus-plugin-structured-data',\n    ...\n  ]\n}\n")),(0,r.kt)("p",null,"Update ",(0,r.kt)("inlineCode",{parentName:"p"},"themeConfig")," in the ",(0,r.kt)("inlineCode",{parentName:"p"},"docusaurus.config.js")," file, the following shows mandatory properties:  "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"{\n  ...,\n  themeConfig: {\n    structuredData: {\n      excludedRoutes: [], // array of routes to exclude from structured data generation, include custom redirects here\n      verbose: boolean, // print verbose output to console (default: false)\n      featuredImageDimensions: {\n        width: 1200,\n        height: 630,\n      },\n      authors:{\n          author_name: {\n            authorId: string, // unique id for the author - used as an identifier in structured data\n            url: string, // MUST be the same as the `url` property in the `authors.yml` file in the `blog` directory\n            imageUrl: string, // gravatar url\n            sameAs: [] // synonymous entity links, e.g. github, linkedin, twitter, etc.\n          },\n      },\n      organization: {}, // Organization properties can be added to this object\n      website: {}, // WebSite properties can be added to this object\n      webpage: {\n        datePublished: string, // default is the current date\n        inLanguage: string, // default: en-US\n      },\n      breadcrumbLabelMap: {} // used to map the breadcrumb labels to a custom value\n      }\n    },\n    ...\n  }\n")),(0,r.kt)("h2",{id:"resultant-structured-data-example"},"Resultant Structured Data Example"),(0,r.kt)("p",null,"Below is an example of the data created and injected into the ",(0,r.kt)("inlineCode",{parentName:"p"},"<head>")," of each page in the generated site (this is formatted for readability - the actual structured data generated is minified for performance).    "),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Docusaurus Structured Data Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<script type="application/ld+json">\n{\n  "@context": "https://schema.org",\n  "@graph": [\n    {\n      "@type": "WebPage",\n      "isPartOf": {\n        "@id": "https://stackql.io/#website"\n      },\n      "inLanguage": "en-US",\n      "datePublished": "2021-07-01",\n      "@id": "https://stackql.io/docs/language-spec/functions/json/json_extract/#webpage",\n      "url": "https://stackql.io/docs/language-spec/functions/json/json_extract",\n      "name": "JSON_EXTRACT",\n      "description": "Query and Deploy Cloud Infrastructure and Resources using SQL",\n      "dateModified": "2023-01-23T23:56:08.545Z",\n      "breadcrumb": {\n        "@id": "https://stackql.io/docs/language-spec/functions/json/json_extract/#breadcrumb"\n      },\n      "potentialAction": [\n        {\n          "@type": "ReadAction",\n          "target": [\n            "https://stackql.io/docs/language-spec/functions/json/json_extract"\n          ]\n        }\n      ]\n    },\n    {\n      "@type": "BreadcrumbList",\n      "@id": "https://stackql.io/docs/language-spec/functions/json/json_extract/#breadcrumb",\n      "itemListElement": [\n        {\n          "@type": "ListItem",\n          "position": 1,\n          "item": "https://stackql.io",\n          "name": "Home"\n        },\n        {\n          "@type": "ListItem",\n          "position": 2,\n          "item": "https://stackql.io/docs",\n          "name": "Documentation"\n        },\n        {\n          "@type": "ListItem",\n          "position": 3,\n          "name": "Language Specification - Functions - JSON - JSON_EXTRACT"\n        }\n      ]\n    },\n    {\n      "@type": "WebSite",\n      "@id": "https://stackql.io/#website",\n      "name": "StackQL",\n      "url": "https://stackql.io",\n      "description": "Provision and Query Cloud and SaaS Resources using SQL",\n      "publisher": {\n        "@id": "https://stackql.io/#organization"\n      },\n      "potentialAction": [\n        {\n          "@type": "SearchAction",\n          "target": {\n            "@type": "EntryPoint",\n            "urlTemplate": "https://stackql.io/search?q={searchTerms}"\n          },\n          "query-input": "required name=searchTerms"\n        }\n      ],\n      "inLanguage": "en-US"\n    },\n    {\n      "@type": "Organization",\n      "@id": "https://stackql.io/#organization",\n      "name": "StackQL",\n      "url": "https://stackql.io",\n      "sameAs": [\n        "https://twitter.com/stackql",\n        "https://www.linkedin.com/company/stackql",\n        "https://github.com/stackql",\n        "https://www.youtube.com/@stackql",\n        "https://hub.docker.com/u/stackql"\n      ],\n      "contactPoint": {\n        "@type": "ContactPoint",\n        "email": "info@stackql.io"\n      },\n      "logo": {\n        "@type": "ImageObject",\n        "inLanguage": "en-US",\n        "@id": "https://stackql.io/#logo",\n        "url": "https://stackql.io/img/stackql-cover.png",\n        "contentUrl": "https://stackql.io/img/stackql-cover.png",\n        "width": 1440,\n        "height": 900,\n        "caption": "StackQL - your cloud using SQL"\n      },\n      "image": {\n        "@id": "https://stackql.io/#logo"\n      },\n      "address": {\n        "@type": "PostalAddress",\n        "addressCountry": "AU",\n        "postalCode": "3001",\n        "streetAddress": "Level 24, 570 Bourke Street, Melbourne, Victoria"\n      },\n      "duns": "750469226",\n      "taxID": "ABN 65 656 147 054"\n    }\n  ]\n}\n<\/script>\n'))),(0,r.kt)("h2",{id:"testing"},"Testing"),(0,r.kt)("p",null,"Once you have built and deployed your site (using ",(0,r.kt)("inlineCode",{parentName:"p"},"yarn build"),"), you can use the ",(0,r.kt)("a",{parentName:"p",href:"https://validator.schema.org/"},"Schema Validator Tool")," or the ",(0,r.kt)("a",{parentName:"p",href:"https://search.google.com/test/rich-results"},"Google Rich Results Tool")," to inspect urls from your site.  "),(0,r.kt)("p",null,"Pull requests or issues are welcome.  Please feel free to contribute. Thanks!"))}d.isMDXComponent=!0}}]);