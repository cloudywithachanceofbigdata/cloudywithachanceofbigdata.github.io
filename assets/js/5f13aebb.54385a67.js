"use strict";(self.webpackChunkfull_stack_chronicles=self.webpackChunkfull_stack_chronicles||[]).push([[72592],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>u});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),f=p(n),u=o,y=f["".concat(l,".").concat(u)]||f[u]||d[u]||a;return n?r.createElement(y,i(i({ref:t},c),{},{components:n})):r.createElement(y,i({ref:t},c))}));function u(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=f;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var p=2;p<a;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},54358:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>f,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var r=n(83117),o=(n(67294),n(3905)),a=n(59943);const i={slug:"use-deno-deploy-to-serve-non-traditional-artifacts",title:"Use Deno Deploy to Serve Non-Traditional Artifacts",authors:["jeffreyaven"],draft:!1,image:"/img/blog/use-deno-deploy-to-serve-non-traditional-artifacts.png",tags:["deno deploy","deno","javascript","typescript","api","openapi","stackql"],keywords:["deno deploy","deno","javascript","typescript","api","openapi","stackql"],description:"This article demonstrates the use of Deno Deploy to serve static text files as non-traditional development artifacts."},s=void 0,l={permalink:"/use-deno-deploy-to-serve-non-traditional-artifacts",editUrl:"https://github.com/stackql/fullstackchronicles.io/tree/main/src/blog/blog/2022-12-31-use-deno-deploy-to-serve-non-traditional-artifacts/index.md",source:"@site/blog/2022-12-31-use-deno-deploy-to-serve-non-traditional-artifacts/index.md",title:"Use Deno Deploy to Serve Non-Traditional Artifacts",description:"This article demonstrates the use of Deno Deploy to serve static text files as non-traditional development artifacts.",date:"2022-12-31T00:00:00.000Z",formattedDate:"December 31, 2022",tags:[{label:"deno deploy",permalink:"/tags/deno-deploy"},{label:"deno",permalink:"/tags/deno"},{label:"javascript",permalink:"/tags/javascript"},{label:"typescript",permalink:"/tags/typescript"},{label:"api",permalink:"/tags/api"},{label:"openapi",permalink:"/tags/openapi"},{label:"stackql",permalink:"/tags/stackql"}],readingTime:.61,hasTruncateMarker:!1,authors:[{name:"Jeffrey Aven",title:"Technologist and Cloud Consultant",url:"https://www.linkedin.com/in/jeffreyaven/",imageURL:"https://s.gravatar.com/avatar/f96573d092470c74be233e1dded5376f?s=80",key:"jeffreyaven"}],frontMatter:{slug:"use-deno-deploy-to-serve-non-traditional-artifacts",title:"Use Deno Deploy to Serve Non-Traditional Artifacts",authors:["jeffreyaven"],draft:!1,image:"/img/blog/use-deno-deploy-to-serve-non-traditional-artifacts.png",tags:["deno deploy","deno","javascript","typescript","api","openapi","stackql"],keywords:["deno deploy","deno","javascript","typescript","api","openapi","stackql"],description:"This article demonstrates the use of Deno Deploy to serve static text files as non-traditional development artifacts."},nextItem:{title:"Apache Beam in Five Minutes",permalink:"/apache-beam-in-five-minutes"}},p={authorsImageUrls:[void 0]},c=[{value:"The code",id:"the-code",level:2},{value:"The deployment",id:"the-deployment",level:2}],d={toc:c};function f(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"In the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/stackql/stackql"},(0,o.kt)("strong",{parentName:"a"},"stackql"))," project we needed an API to serve configuration file packages (stackql providers) to the stackql application at runtime.  "),(0,o.kt)("p",null,"Traditional artifact repositories or package managers were unsuitable as they were mainly designed for container images, JavaScript modules, Python packages etc.  The artifacts, in this case, are signed tarball sets of OpenAPI specification documents (text files).  "),(0,o.kt)("p",null,"We have recently moved our provider registry (",(0,o.kt)("a",{parentName:"p",href:"https://github.com/stackql/stackql-provider-registry"},(0,o.kt)("strong",{parentName:"a"},"stackql-provider-registry")),") to use ",(0,o.kt)("a",{parentName:"p",href:"https://deno.com/deploy"},(0,o.kt)("strong",{parentName:"a"},"Deno Deploy"))," as the serving layer (the API).  "),(0,o.kt)("h2",{id:"the-code"},"The code"),(0,o.kt)("p",null,"The code is reasonably straightforward as shown here:  "),(0,o.kt)(a.Z,{id:"8747fa98e61e411373a95dbe2e261bd6",mdxType:"Gist"}),(0,o.kt)("h2",{id:"the-deployment"},"The deployment"),(0,o.kt)("p",null,"We are using GitHub Actions to push assets and code to Deno Deploy, this was straightforward as well as you can see here:  "),(0,o.kt)(a.Z,{id:"e4e98f427c80ecee4f82fb8731565289",mdxType:"Gist"}))}f.isMDXComponent=!0},59943:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(67294);n(45697);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}const i=function(e){function t(){return o(this,t),a(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this._updateIframeContent()},t.prototype.componentDidUpdate=function(e,t){this._updateIframeContent()},t.prototype._defineUrl=function(){var e=this.props,t=e.id,n=e.file;return"https://gist.github.com/"+t+".js"+(n?"?file="+n:"")},t.prototype._updateIframeContent=function(){var e=this.props,t=e.id,n=e.file,r=this.iframeNode,o=r.document;r.contentDocument?o=r.contentDocument:r.contentWindow&&(o=r.contentWindow.document);var a='<html><head><base target="_parent"><style>*{font-size:12px;}</style></head><body '+("onload=\"parent.document.getElementById('"+(n?"gist-"+t+"-"+n:"gist-"+t)+"').style.height=document.body.scrollHeight + 'px'\"")+">"+('<script type="text/javascript" src="'+this._defineUrl()+'"><\/script>')+"</body></html>";o.open(),o.writeln(a),o.close()},t.prototype.render=function(){var e=this,t=this.props,n=t.id,o=t.file;return r.createElement("iframe",{ref:function(t){e.iframeNode=t},width:"100%",frameBorder:0,id:o?"gist-"+n+"-"+o:"gist-"+n})},t}(r.PureComponent)}}]);